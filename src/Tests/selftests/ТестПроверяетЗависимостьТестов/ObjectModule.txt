Перем	ГлобПерем;

//{ основная процедура для юнит-тестирования xUnitFor1C
Перем ЮТест;

Функция ПолучитьСписокТестов(ЮнитТестирование) Экспорт
	
	ЮТест = ЮнитТестирование;
	
	ВсеТесты = Новый Массив;

	Приставка = "";
	#Если ТолстыйКлиентОбычноеПриложение Тогда
		Приставка = "";
	#КонецЕсли
	
	ВсеТесты.Добавить("_ТестДолжен_ИзменитьСостояниеПеременной"+Приставка);
	ВсеТесты.Добавить("_ТестДолжен_СравнитьСостояниеПеременной"+Приставка);
	ВсеТесты.Добавить("_ТестДолжен_ИзменитьСостояниеОбработки"+Приставка);
	ВсеТесты.Добавить("_ТестДолжен_СравнитьСостояниеОбработки"+Приставка);

	Возврат ВсеТесты;
	
КонецФункции

Функция РазрешенСлучайныйПорядокВыполненияТестов() Экспорт
	Возврат Ложь;
КонецФункции

//}

//{ блок юнит-тестов - сами тесты

//Процедура ПередЗапускомТеста() Экспорт
//	ПропуститьТестЕслиНеТолстыйКлиентОбычноеПриложение();
//КонецПроцедуры

Процедура _ТестДолжен_ИзменитьСостояниеПеременной() Экспорт
	ГлобПерем = 2;
КонецПроцедуры

Процедура _ТестДолжен_СравнитьСостояниеПеременной() Экспорт
	ЮТест.ПроверитьРавенство(2, ГлобПерем, "Не выполнено условие 2 != ГлобПерем - тесты НЕ являются зависимыми");
	ГлобПерем = 10;
КонецПроцедуры

Процедура _ТестДолжен_ИзменитьСостояниеОбработки() Экспорт
	Состояние = 2;
КонецПроцедуры

Процедура _ТестДолжен_СравнитьСостояниеОбработки() Экспорт
	ЮТест.ПроверитьРавенство(2, Состояние, "Не выполнено условие 2 != Состояние - тесты НЕ являются зависимыми");
	Состояние = 10;
КонецПроцедуры

//Процедура ПропуститьТестЕслиНеТолстыйКлиентОбычноеПриложение()
//	#Если Не ТолстыйКлиентОбычноеПриложение Тогда
//		ЮТест.ПропуститьТест("Данный тест работает только в толстом клиенте обычного приложения");
//	#КонецЕсли
//КонецПроцедуры

//} 
